<openerp>
    <data>
    
    	 <record id="view_task_list_view_npg" model="ir.ui.view">
            <field name="name">project.task.tree.npg</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_tree2"/>
            <field name="arch" type="xml">
	    		<field name="name" position="before">
	            	<field name="task_number" string="Task Number"/>
	            </field>
            </field>
        </record>
    
        <record id="view_task_search_form_npg" model="ir.ui.view">
            <field name="name">project.task.search.form.npg</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_search_form"/>
            <field name="arch" type="xml">
	    		<field name="name" position="before">
	            	<field name="task_number" string="Task Number"/>
	            </field>
            </field>
        </record>  
        <record id="view_task_gtd_search_form_npg" model="ir.ui.view">
            <field name="name">project.task.search.form.npg</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project_gtd.view_task_gtd_search"/>
            <field name="arch" type="xml">
	    		<field name="name" position="before">
	            	<field name="task_number" string="Task Number"/>
	            </field>
            </field>
        </record>  
    
        <record id="view_task_form_npg" model="ir.ui.view">
            <field name="name">project.task.form.npg</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="timesheet_task.view_task_form_hr_timesheet"/>
            <field name="arch" type="xml">
				<field name="project_id" position="before">
						<field name="task_number" string="Task Number"/>
				</field>
				<field name="project_id" position = "attributes">
				 	<attribute name="required">1 </attribute>
				</field>
				
				<xpath expr="//notebook/page[@string='Description']" position="attributes">
					<attribute name="string">Work</attribute>
				</xpath>
				
				<xpath expr="//notebook/page/field[@name='description']" position="replace">
				</xpath>
	            
				<xpath expr="//notebook/page[@string='Work']" position="after">
	
			            <page string="Developer Notes">
			            	<group>
			            	<field name="description" attrs="{'readonly':[('state','=','done')]}"  nolabel = "1"/>
			            	</group>
			            </page>
			           
	           		   <page string="Public Notes">
			             	<group>
			         <!--  	<field name="public_pad" attrs="{'readonly':[('state','=','done')]}" widget="pad" nolabel = "1"/> -->
			         		<field name="pub_descrip" attrs="{'readonly':[('state','=','done')]}"  nolabel = "1"/> 
			            	</group>
			            </page>
				</xpath>
            
	    </field>

        </record>
        
 

        
<!--        Project module enhancement by Verts-->
        <record model="ir.actions.act_window" id="project_gtd.open_gtd_task">
        <field name="name">My Tasks</field>
        <field name="res_model">project.task</field>
        <field name="search_view_id" ref="project_gtd.view_task_gtd_search"/>
        <field name="context">{'set_editable':False,'set_visible':True,'gtd':True,'user_invisible':True, "search_default_open": 1}</field>
        <field name="domain">[('user_id','=',uid)]</field>
        <field name="view_type">form</field>
        <field name="view_mode">kanban,tree,form,calendar,gantt,graph</field>
    </record>
    
        <menuitem action="project_gtd.open_gtd_task" id="project_gtd.menu_open_gtd_timebox_tree" parent="project.menu_project_management" sequence="0"/>
        
        	
        	
        	
        <record id="npg_open_view_project" model="ir.actions.act_window">
            <field name="name">Projects</field>
            <field name="res_model">project.project</field>
            <field name="view_type">form</field>
            <field name="domain">[]</field>
            <field name="view_mode">kanban,gantt</field>
            <field name="view_id" ref="project.view_project_kanban"/>
            <field name="search_view_id" ref="project.view_project_project_filter"/>
            <field name="context">{}</field>
            <field name="help" type="html">
                <p class="oe_view_nocontent_create">
                  Click to start a new project.
                </p>
            </field>
        </record>

        
        <record id="npg_project.view_task_form_npg" model="ir.ui.view">
            <field name="name">project.task.form.npg</field>
            <field name="model">project.task</field>
            <field name="inherit_id" ref="project.view_task_form2"/>
            <field name="arch" type="xml">
				<field name="project_id" position="before">
				<field name="task_number" string="Task Number"/>
				</field>
				<field name="project_id" position = "attributes">
				 	<attribute name="required">1 </attribute>
				</field>
				
				<xpath expr="//notebook/page[@string='Description']" position="attributes">
							<attribute name="string">Work</attribute>
				</xpath>
				
				<xpath expr="//notebook/page/field[@name='description']" position="replace">
				</xpath>
	            
				<xpath expr="//notebook/page[@string='Work']" position="after">
	
			            <page string="Developer Notes" groups="base.group_user">
			            	<group>
			            	<field name="description" groups="base.group_user" attrs="{'readonly':[('state','=','done')]}"  nolabel = "1"/>
			            	</group>
			            </page>
			           
	           		   <page string="Public Notes" groups="base.group_user">
			             	<group>
			         <!--  	<field name="public_pad" attrs="{'readonly':[('state','=','done')]}" widget="pad" nolabel = "1"/> -->
			         		<field name="pub_descrip" groups="base.group_user" attrs="{'readonly':[('state','=','done')]}"  nolabel = "1"/> 
			            	</group>
			            </page>
				</xpath>
            
	    </field>

        </record>
        
        <record id="hr_timesheet_line_form_npg" model="ir.ui.view">
	        <field name="name">hr.analytic.timesheet.form.npg</field>
	        <field name="model">hr.analytic.timesheet</field>
	        <field name="arch" type="xml">
	            <form string="Timesheet Work" version="7.0">
	                <sheet>
	                <group>
	                        
	                        <field name="user_id"
	                            on_change="on_change_user_id(user_id)"
	                            required="1" />
	                        
	                        <field name="name"
	                            default_focus="1" />
	                        
	                        <field name="hours"
	                        	 sum="Work Planned" widget="float_time"/>
	                        
	                        <field name="unit_amount"
	                            on_change="on_change_unit_amount(product_id, unit_amount, False, product_uom_id,journal_id, parent.id, to_invoice)"
	                            sum="Total time" widget="float_time" />
				
							<field name="date_start"
	                            on_change="on_change_start_time(date_time)" />                                        
	                        
	                        <field name="date"
	                            on_change="on_change_date(date)" 
	                            invisible='0'
	                            readonly="1"/>
	                        
	                        <field name="journal_id"
	                            invisible="1" />
	                        
	                        <field domain="[('type','=','normal')]"
	                            name="account_id" invisible="1" />
	                        
	                        <field name="product_id"
	                            on_change="on_change_unit_amount(product_id, unit_amount, False, product_uom_id,journal_id, parent.id, to_invoice)"
	                            required="1"
	                            domain="[('type','=','service')]"
	                            invisible="1" />
	                        
	                        <field name="product_uom_id"
	                            on_change="on_change_unit_amount(product_id, unit_amount, False, product_uom_id,journal_id, parent.id, to_invoice)"
	                            invisible="1" />
	                        
	                        <field name="amount" sum="Total cost"
	                            invisible="1" />
	                        
	                        <field name="general_account_id"
	                            invisible="1" />
	                        
	                        <field name="to_invoice" />
	                    </group>
	                    </sheet>
	                    </form>

               		 </field>
       			 </record>
   
     
     
    </data>
</openerp>
